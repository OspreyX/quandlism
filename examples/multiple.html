<!DOCTYPE html>
<html>
<head>
  <style type="text/css" media="screen">
  body {
    float: left;
    width: 100%;
    background: #FFF;
  }
  
  svg {
    font: 10px sans-serif;
  }

  .axis path, .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  .chart {
    position: relative;
    width:  800px;
    height: 300px;
  }
  .brush.move {
    cursor: move;
  }
  .brush.resize {
    cursor: col-resize;
  }

  </style>
</head>
<body id="multiple" onload="">
  
  <div id='charts'>
    
    <div class='chart' id='chart-0'></div>
    <ul id='legend-0'></ul>
    <div class='chart' id='chart-1'></div>
    <ul id='legend-1'></ul>
    <div class='chart' id='chart-2'></div>
    <ul id='legend-2'></ul>
    <div class='chart' id='chart-3'></div>
    <ul id='legend-3'></ul>
  </div>  
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.1/underscore-min.js" type="text/javascript" charset="utf-8"></script>
  <script src="../lib/d3.v2.js" type="text/javascript" charset="utf-8"></script>
  <script src="../quandlism.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
  // var context = quandlism.context().dom('#chart').domstage('#stage').dombrush('#brush').domlegend('#legend').domtooltip('#tooltip');
  
  $.each($('.chart'), function(i, el) {
    d3.json('/data/boj.json', function(data) {
      legendId = "#legend-" + i;
      context = quandlism.context().setupWithContainer($(el)).legendWithSelector($(legendId));
      lines = context.utility().createLines(data);
      context.build().attachData(lines).render();
    });
  });
  
  
  // var contextOne = quandlism.context().dom('#chart-1').domstage('#stage-1').dombrush('#brush-1')
  // 
  // d3.json('/data/toronto.json', function(data) {    
  //   lines = contextOne.utility().createLines(data);
  //   contextOne.build().attachData(lines).render()
  // }); 
  </script>

</body>
</html>